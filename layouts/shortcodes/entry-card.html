{{- $rel := .Get 0 -}} {{/* ex: "cv/details.md" */}}
{{- $p := site.GetPage $rel -}}

{{/* 1) essaie d'abord la page dans la langue courante */}}
{{- $t := cond (ne $p nil) ($p.Translations.GetByLang $.Page.Lang) nil -}}

{{/* 2) si pas de traduction trouv√©e, tente un lookup explicite "jp/..." */}}
{{- if not $t -}}
  {{- $t = site.GetPage (printf "%s/%s" $.Page.Lang $rel) -}}
{{- end -}}

{{- with $t -}}
  <article class="post-entry entry-card-mini">
    <header class="entry-header">
      <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
    </header>
    <div class="entry-content">
      <p class="entry-clamp">{{ .Summary | plainify }}</p>
    </div>
  </article>
{{- end -}}
